pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});
// test

var jsonData = pm.response.json();

pm.test("Your test name", function () {
    pm.expect(jsonData.resultCode).to.eql("C001");
    pm.expect(jsonData.resultMessage).to.eql("success");
});

//Schema Validation
var jsonData = pm.response.json();
var schema = {
  "type": "object",
  "properties": {
    "resultCode": {
      "type": "string"
    },
    "resultMessage": {
      "type": "string"
    },
    "sessionInformation": {
      "type": "object",
      "properties": {
        "sessionID": {
          "type": "string"
        },
        "sessionStartAt": {
          "type": "string"
        },
        "sessionType": {
          "type": "string"
        }
      },
      "required": [
        "sessionID",
        "sessionStartAt",
        "sessionType"
      ]
    },
    "passwordTypeChanged": {
      "type": "boolean"
    },
    "permittedNavs": {
      "type": "object",
      "properties": {
        "myProgress": {
          "type": "boolean"
        },
        "myTopics": {
          "type": "boolean"
        },
        "worksheets": {
          "type": "boolean"
        },
        "games": {
          "type": "boolean"
        },
        "myMindspark": {
          "type": "boolean"
        },
        "reward": {
          "type": "boolean"
        },
        "myFavourities": {
          "type": "boolean"
        },
        "mailbox": {
          "type": "boolean"
        },
        "myDetails": {
          "type": "boolean"
        },
        "help": {
          "type": "boolean"
        },
        "sparkies": {
          "type": "boolean"
        },
        "home": {
          "type": "boolean"
        },
        "message": {
          "type": "boolean"
        },
        "notification": {
          "type": "boolean"
        }
      },
      "required": [
        "myProgress",
        "myTopics",
        "worksheets",
        "games",
        "myMindspark",
        "reward",
        "myFavourities",
        "mailbox",
        "myDetails",
        "help",
        "sparkies",
        "home",
        "message",
        "notification"
      ]
    },
    "userInformation": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "avatar": {
          "type": "string"
        },
        "section": {
          "type": "string"
        },
        "grade": {
          "type": "integer"
        },
        "gender": {
          "type": "string"
        },
        "language": {
          "type": "string"
        },
        "isRetail": {
          "type": "boolean"
        },
        "selectedTheme": {
          "type": "string"
        },
        "groupID": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "avatar",
        "section",
        "grade",
        "gender",
        "language",
        "isRetail",
        "selectedTheme",
        "groupID"
      ]
    },
    "profileInformation": {
      "type": "object",
      "properties": {
        "settings": {
          "type": "object",
          "properties": {
            "subscriptionDetails": {
              "type": "boolean"
            },
            "profileImage": {
              "type": "boolean"
            },
            "userDetails": {
              "type": "boolean"
            },
            "secretQuestion": {
              "type": "boolean"
            },
            "changePassword": {
              "type": "boolean"
            }
          },
          "required": [
            "subscriptionDetails",
            "profileImage",
            "userDetails",
            "secretQuestion",
            "changePassword"
          ]
        },
        "name": {
          "type": "string"
        },
        "grade": {
          "type": "integer"
        },
        "section": {
          "type": "string"
        },
        "avatar": {
          "type": "string"
        },
        "place": {
          "type": "string"
        },
        "gender": {
          "type": "string"
        },
        "dob": {
          "type": "string"
        },
        "organization": {
          "type": "string"
        },
        "language": {
          "type": "string"
        },
        "secretQuestions": {
          "type": "array",
          "items": [
            {
              "type": "string"
            },
            {
              "type": "string"
            },
            {
              "type": "string"
            },
            {
              "type": "string"
            },
            {
              "type": "string"
            },
            {
              "type": "string"
            },
            {
              "type": "string"
            }
          ]
        },
        "selectedQuest": {
          "type": "string"
        },
        "secretAnswer": {
          "type": "string"
        },
        "subscriptionFrom": {
          "type": "string"
        },
        "subscriptionTo": {
          "type": "string"
        },
        "parentDetails": {
          "type": "object",
          "properties": {
            "father": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "name"
              ]
            },
            "mother": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "name"
              ]
            },
            "parent": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "object",
                  "properties": {
                    "email": {
                      "type": "string"
                    },
                    "isVerified": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "email",
                    "isVerified"
                  ]
                },
                "mobile": {
                  "type": "object",
                  "properties": {
                    "number": {
                      "type": "string"
                    },
                    "extension": {
                      "type": "string"
                    },
                    "isVerified": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "number",
                    "extension",
                    "isVerified"
                  ]
                }
              },
              "required": [
                "email",
                "mobile"
              ]
            }
          },
          "required": [
            "father",
            "mother",
            "parent"
          ]
        }
      },
      "required": [
        "settings",
        "name",
        "grade",
        "section",
        "avatar",
        "place",
        "gender",
        "dob",
        "organization",
        "language",
        "secretQuestions",
        "selectedQuest",
        "secretAnswer",
        "subscriptionFrom",
        "subscriptionTo",
        "parentDetails"
      ]
    },
    "today": {
      "type": "string"
    }
  },
  "required": [
    "resultCode",
    "resultMessage",
    "sessionInformation",
    "passwordTypeChanged",
    "permittedNavs",
    "userInformation",
    "profileInformation",
    "today"
  ]
};

pm.test('Schema is valid', function() {
  pm.expect(tv4.validate(jsonData, schema)).to.be.true;
//   pm.expect(tv4.validate(data2, schema)).to.be.true; // this statement would not be true
});